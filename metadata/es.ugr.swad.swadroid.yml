Categories:
  - Science & Education
License: GPL-3.0-or-later
AuthorName: Juan Miguel Boyero Corral
AuthorEmail: swadroid@gmail.com
SourceCode: https://git.cuernodehipnos.es/Marown/SWADroid
IssueTracker: https://git.cuernodehipnos.es/Marown/SWADroid/issues
Changelog: https://git.cuernodehipnos.es/Marown/SWADroid/releases

AutoName: SWADroid

RepoType: git
Repo: https://git.cuernodehipnos.es/Marown/SWADroid.git
Binaries: https://git.cuernodehipnos.es/Marown/SWADroid/releases/download/%v/SWADroid-release.apk

Builds:
  - versionName: 1.5.14
    versionCode: 1005014
    commit: 1.5.14
    subdir: SWADroid
    sudo:
      - apt-get update
      - apt-get install -y openjdk-17-jdk-headless wget
      - update-alternatives --auto java
    gradle:
      - yes
    prebuild:
      - sed -i -e '/sonatype/d' -e "/^repositories {/a flatDir { dirs 'libs' }" ../build.gradle
      - sed -i "s/'com.google.code.ksoap2-android:ksoap2-android:3.6.4'/fileTree(dir:\
        'libs',\ include:\ '*.jar')/g" build.gradle
    build:
      - mkdir -p libs
      - wget -O libs/ksoap2-android-3.6.4.jar https://oss.sonatype.org/content/repositories/ksoap2-android-releases/com/google/code/ksoap2-android/ksoap2-android-assembly/3.6.4/ksoap2-android-assembly-3.6.4-jar-with-dependencies.jar

AllowedAPKSigningKeys: 715d6d6d93736cd9e1ec7503af1318afd6f8bd148f115c1a35193f0198e87885

MaintainerNotes: |-
  SWADroid requires the ksoap2-android:3.6.4 library for communication with SOAP services, which has the following drawbacks when integrating it into F-Droid:

  - ksoap2-android is available in the repository https://oss.sonatype.org/content/repositories/ksoap2-android-releases/ , but cannot be used because the F-Droid scanner detects it as an untrusted repository.
  - ksoap2-android is also available as srclib to be compiled from source code, but its code is five years old and cannot currently be compiled.
  - The ksoap2-android JAR is currently downloaded from its official repository at Sonatype and is added as a local library to allow compilation of SWADroid until a better solution can be implemented.

AutoUpdateMode: Version
UpdateCheckMode: Tags
CurrentVersion: 1.5.14
CurrentVersionCode: 1005014
