Categories:
  - Connectivity
  - Internet
License: GPL-3.0-only
SourceCode: https://github.com/2dust/v2rayNG
IssueTracker: https://github.com/2dust/v2rayNG/issues

AutoName: v2rayNG

RepoType: git
Repo: https://github.com/2dust/v2rayNG

Builds:
  - versionName: 1.9.8
    versionCode: 602
    commit: 5b4f51981e27f053334d26bea6c720f474ffe18a
    subdir: V2rayNG/app
    sudo:
      - apt-get update
      - apt-get install -y make wget tar curl gawk
      - apt-get install -y -t bookworm-backports golang-go
    init:
      - git clone https://github.com/2dust/AndroidLibV2rayLite
      - cd AndroidLibV2rayLite
      - make all
      - curl -L -o parse.awk https://gist.githubusercontent.com/xiaokangwang/06268fb23034ed94bc301880e862da09/raw/afd95cbbe2f8c1d9e7b0277b7c5ef39af756a6ee/parse.awk
      - curl -L -o reduce.awk https://gist.githubusercontent.com/xiaokangwang/4684bdb5c3415b943f52aa4803386480/raw/b46dab1cc60f02c0d87f88f01e27157034218faa/out.awk
      - sdkmanager --verbose --list | awk -f parse.awk > ~/package_to_install
      - readarray -t filenames < ~/package_to_install
      - cat ~/package_to_install
      - yes | sdkmanager --verbose "${filenames[@]}" | awk -f reduce.awk
      - sdkmanager "ndk-bundle"
      - go install -v golang.org/x/mobile/cmd/...
      - make BuildMobile
      - NDK=$$NDK$$ bash compile-tun2socks.sh
      - tar -xvzf libtun2socks.so.tgz
      - mv *.aar *.jar libs
      - mv libs ../V2rayNG/app
    gradle:
      - yes
    scanignore:
      - V2rayNG/app/libs
    scandelete:
      - AndroidLibV2rayLite

AutoUpdateMode: Version
UpdateCheckMode: Tags
CurrentVersion: 1.9.8
CurrentVersionCode: 602
