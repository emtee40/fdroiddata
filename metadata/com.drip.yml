Categories:
  - Sports & Health
License: GPL-3.0-only
AuthorName: Bloody Health collective
AuthorEmail: drip@mailbox.org
WebSite: https://bloodyhealth.gitlab.io
SourceCode: https://gitlab.com/bloodyhealth/drip/tree/HEAD
IssueTracker: https://gitlab.com/bloodyhealth/drip/issues
Changelog: https://gitlab.com/bloodyhealth/drip/blob/HEAD/CHANGELOG.md

AutoName: drip
Summary: Open-source, non-commercial and leaves your data on your phone
Description: |-
    drip is an open source menstrual cycle tracking app.

    The app is all about:

    - Your data, your choice. Everything stays on your device.
    - Not another cute, pink app. drip is designed with gender inclusivity in mind.
    - Your body is not a black box. drip is transparent in its calculations and encourages you to think for yourself.
    - Based on science. drip detects your fertility using the symptothermal method.
    - Track what you like. Just your period or fertility symptoms, and more.
    - Open source. Contribute to the code, the documentation, translations and get involved with the community.
    - Non-commercial. drip doesn’t sell your data, no ads.

    More info on our website:
    [https://bloodyhealth.gitlab.io/ Bloody Health]

RepoType: git
Repo: https://gitlab.com/bloodyhealth/drip.git

Builds:
  - versionName: 0.0.3
    versionCode: 3
    commit: dd648da56f1c07b729e8a493df8f5f50db1c2af0
    subdir: android/app
    srclibs:
      - NodejsMobile@nodejs-mobile-v0.1.7
    sudo:
      - apt-get update
      - apt-get install --no-install-recommends -y g++ make ninja-build
      - curl -Lo node.tar.xz https://nodejs.org/dist/v8.11.4/node-v8.11.4-linux-x64.tar.xz
      - echo "85ea7cbb5bf624e130585bfe3946e99c85ce5cb84c2aee474038bdbe912f908c node.tar.xz" | sha256sum -c -
      - tar xJf node.tar.xz
      - cp -a node-v8.11.4-linux-x64/. /usr/local/
    init:
      - export ANDROID_NDK_HOME=$$NDK$$
      - npm install
    gradle:
      - yes
    prebuild:
      - sed -i -e '/maven {/,+2d' ../../node_modules/react-native-document-picker/android/build.gradle
      - sed -i -e '/maven {/,+3d' ../../node_modules/react-native-share/android/build.gradle
      - sed -i -e '/maven {/,+3d' ../../node_modules/realm/android/build.gradle
      - truncate -s 0 ../../node_modules/react-native/local-cli/server/util/external/xsel
    build:
      - pushd $$NodejsMobile$$
      - ./tools/android_build.sh $$NDK$$ arm
      - popd
      - mv $$NodejsMobile$$/out_android/armeabi-v7a/libnode.so ../../node_modules/nodejs-mobile-react-native/android/libnode/bin/armeabi-v7a/libnode.so
    scandelete:
      - node_modules
    scanignore:
      - android/build.gradle
    ndk: r19c
    MaintainerNotes: |-
    scanignore is used to allow the "node_modules/react-native/android" local Maven repository which contains the prebuilt react-native library which we get from npm.

    sed is used to remove some custom maven repos from dependencies because they bother the fdroid build


AutoUpdateMode: None
UpdateCheckMode: Tags
CurrentVersion: '1.0'
CurrentVersionCode: 1
